/**
 * Категории продуктов и соответствующие им иконки
 * Используется для автоматического определения категории товара
 */

const productCategories = [
  {
    icon: "fas fa-bread-slice",
    category: "Хлебобулочные",
    keywords: ["хлеб", "батон", "багет", "лаваш", "булка", "булочка", "пирожок", "пирог", "кекс", "печенье"]
  },
  {
    icon: "fas fa-apple-alt",
    category: "Фрукты",
    keywords: ["яблоко", "апельсин", "мандарин", "банан", "груша", "киви", "ананас", "виноград", "арбуз", "дыня", "персик", "абрикос", "слива", "черешня", "вишня"]
  },
  {
    icon: "fas fa-carrot",
    category: "Овощи",
    keywords: ["морковь", "картофель", "картошка", "капуста", "лук", "чеснок", "перец", "огурец", "помидор", "томат", "свекла", "кабачок", "баклажан", "тыква", "редис"]
  },
  {
    icon: "fas fa-drumstick-bite",
    category: "Мясо",
    keywords: ["мясо", "курица", "говядина", "свинина", "фарш", "котлета", "сосиска", "колбаса", "ветчина", "бекон", "стейк", "индейка", "крылышко"]
  },
  {
    icon: "fas fa-fish",
    category: "Рыба",
    keywords: ["рыба", "лосось", "семга", "тунец", "креветка", "краб", "форель", "сельдь", "скумбрия", "морепродукты", "кальмар", "осьминог"]
  },
  {
    icon: "fas fa-egg",
    category: "Молочные",
    keywords: ["молоко", "сыр", "творог", "сметана", "йогурт", "кефир", "масло", "маргарин", "ряженка", "яйцо", "яйца", "сливки"]
  },
  {
    icon: "fas fa-cookie",
    category: "Сладости",
    keywords: ["конфета", "шоколад", "мед", "торт", "пирожное", "вафля", "мармелад", "зефир", "пастила", "печенье", "батончик", "сладость"]
  },
  {
    icon: "fas fa-wine-bottle",
    category: "Напитки",
    keywords: ["вода", "сок", "газировка", "лимонад", "чай", "кофе", "какао", "пиво", "вино", "водка", "коньяк", "виски", "шампанское", "напиток", "компот", "морс"]
  },
  {
    icon: "fas fa-prescription-bottle",
    category: "Консервы",
    keywords: ["консервы", "тушенка", "банка", "горошек", "кукуруза", "фасоль", "оливки", "маслины", "шпроты", "сардина", "килька", "паштет", "икра"]
  },
  {
    icon: "fas fa-pepper-hot",
    category: "Специи",
    keywords: ["соль", "сахар", "перец", "специя", "приправа", "корица", "ваниль", "гвоздика", "лавровый", "карри", "имбирь", "кетчуп", "майонез", "горчица", "соус"]
  },
  {
    icon: "fas fa-leaf",
    category: "Зелень",
    keywords: ["укроп", "петрушка", "базилик", "кинза", "шпинат", "салат", "руккола", "зелень", "мята", "лук зеленый", "розмарин", "тимьян"]
  }
];

/**
 * Определяет категорию продукта по его названию
 * @param {string} productName - название продукта
 * @returns {Object|null} - объект категории или null, если категория не определена
 */
export const getCategoryByName = (productName) => {
  if (!productName) return null;
  
  const lowerName = productName.toLowerCase();
  
  for (const category of productCategories) {
    for (const keyword of category.keywords) {
      if (lowerName.includes(keyword.toLowerCase())) {
        return category;
      }
    }
  }
  
  return null;
};

/**
 * Получить все категории продуктов
 * @returns {Array} - массив категорий
 */
export const getAllCategories = () => productCategories;

/**
 * База подсказок для автодополнения товаров
 */
export const productSuggestions = [
  "Хлеб", "Молоко", "Яйца", "Масло", "Сыр", "Йогурт", "Творог", "Сметана",
  "Курица", "Говядина", "Свинина", "Фарш", "Колбаса", "Сосиски",
  "Картофель", "Морковь", "Лук", "Чеснок", "Капуста", "Огурцы", "Помидоры", "Перец", "Зелень",
  "Яблоки", "Бананы", "Апельсины", "Мандарины", "Груши", "Виноград",
  "Макароны", "Рис", "Гречка", "Овсянка", "Мука", "Сахар", "Соль", "Растительное масло",
  "Чай", "Кофе", "Какао", "Сок", "Вода", "Газировка", "Пиво",
  "Шоколад", "Конфеты", "Печенье", "Торт", "Мороженое",
  "Консервы", "Тушенка", "Горошек", "Кукуруза", "Фасоль", "Томатная паста"
];

/**
 * Получить подсказки для автодополнения
 * @param {string} query - введенное пользователем значение
 * @returns {Array} - массив подсказок
 */
export const getSuggestions = (query) => {
  if (!query || query.length < 2) return [];
  
  const lowerQuery = query.toLowerCase();
  return productSuggestions
    .filter(product => product.toLowerCase().startsWith(lowerQuery))
    .slice(0, 5); // Ограничим количество подсказок
};